{% extends 'locator/common/base.html' %} {% load widget_tweaks %} {% block app_body %}
<div class="fluid-container mt-1 ml-2 mr-2">
    <div class="row jumbotron">
        <div class="col-md-2 product-filter-section" style="background:white">
            <div class="col-md-12 mb-5">
                <form method="get">
                    <div class="well">
                        <div class="row">
                            <div class="form-group col-sm-12 col-md-12">
                                {{ filter.form.brand.label_tag }}
                                <div>
                                    {% for choice in filter.form.brand %}
                                    <label class="checkbox-inline">
                                        {{ choice.tag }} {{ choice.choice_label }}
                                    </label>
                                    {% endfor %}
                                </div>
                            </div>
                            <div class="form-group col-sm-12 col-md-12 price-filter-section">
                                {{ filter.form.price.label_tag }} {% render_field filter.form.price class="form-control" %}
                            </div>
                        </div>
                        <button type="submit" class="btn pd-3 btn-card">
                            <span class="glyphicon glyphicon-search"></span> Search
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <div class="col-md-10">
            <div id="columns" class="columns_4 infinite-container">
                {% if filter.qs %} {% for product in filter.qs %} {% include 'locator/product/product_item.html' %} {% endfor %} {% else %}
                <h3>No Products Found</h3> {% endif %}
            </div>
            {% if filter.qs.has_next %}
            <a class="infinite-more-link pd-5" href="?page={{ filter.qs.next_page_number }}">More</a> {% endif %}
            <div class="loader pd-5" style="display: none;">
            </div>
        </div>
    </div>
</div>
<script>
var infinite = new Waypoint.Infinite({
    element: $('.infinite-container')[0],
    onBeforePageLoad: function() {
        $('.loader').show();
    },
    onAfterPageLoad: function($items) {
        $('.loader').hide();
    }
});
</script>
{% endblock %}